<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Model Review Notes • LendingClubModel</title>
<!-- jquery --><script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/journal/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><!-- Font Awesome icons --><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
<!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script><script src="../pkgdown.js"></script><!-- mathjax --><script src="https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-vignette">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">LendingClubModel</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../articles/index.html">Analysis</a>
</li>
<li>
  <a href="../reference/index.html">Functions</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Related Packages
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="http://ryankuhn.net/LendingClub">LendingClub</a>
    </li>
    <li>
      <a href="http://ryankuhn.net/LendingClubData">LendingClubData</a>
    </li>
  </ul>
</li>
<li>
  <a href="http://ryankuhn.net">ryankuhn.net</a>
</li>
<li>
  <a href="https://github.com/kuhnrl30/LendingClubModel">
    <span class="fa fa-github"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9">
    <div class="page-header toc-ignore">
      <h1>Model Review Notes</h1>
            
          </div>

    
    
<div class="contents">
<blockquote>
<p>NOTE: this file is being used to capture my notes while reading through the models. Once I’ve read and digested, I’ll turn this into a cohesive summary.</p>
</blockquote>
<div id="purpose" class="section level1">
<h1 class="hasAnchor">
<a href="#purpose" class="anchor"></a>Purpose</h1>
<div id="lending-club---predicting-loan-outcomes" class="section level2">
<h2 class="hasAnchor">
<a href="#lending-club---predicting-loan-outcomes" class="anchor"></a>Lending club - predicting loan outcomes</h2>
<p><span class="citation">ORourke (2016)</span></p>
<p>Data Period: 2007-2011</p>
<p><strong>Author Notes</strong>:</p>
<ul>
<li>
<a href="https://www.linkedin.com/in/ted-orourke/">LinkedIn profile</a> shows no background in p2p lending or credit markets.<br>
</li>
<li>Education at the University of Virginia not yet completed.</li>
</ul>
<p><strong>Analysis:</strong></p>
<ul>
<li>Divided characteristics into two categories: those about the loan and about the borrower. Did not formally define the groups.</li>
<li>Filtered out late loans leaving just fully paid, defaulted, and charged off. Defaulted and charge-off loans combined into a single group.<br>
</li>
<li>Filtered characteristics by reading the descriptions in the data dictionary. Criteria seems to be intuition and the level of documentation. There was no analysis for correlation with outcome to support decisions.</li>
<li>Chargeoffs focused in higher interest rates, fully paid more evenly distributed<br>
</li>
<li>distribution of loans by grade<br>
</li>
<li>36 vs 60 month loan chargeoff rates<br>
</li>
<li>Current.Account.Ratio number of open credit lines divided by total number f accounts</li>
</ul>
<p><strong>Modeling:</strong></p>
<ul>
<li>Decision tree- The AUC from this model was 0.68 but only 60 charge-off loans were correctly identified. After resampling to increase the proportion of charge-offs, the confusion matrix increased to identifying 700 of the 1100 charge-offs.</li>
<li>Logistic Regression- AUC: 0.697. Confusion matrix ID’d 730 of the 1100 charge-offs.</li>
<li>Ensembled- Using bagging</li>
</ul>
<p><strong>Analysis review:</strong></p>
<ul>
<li>The exploratory analysis was not particularly insightful. The author did not document the basis for several key decisions such as which variables to include/exclude or why he chose the specific algorithms. The charts were not styled beyond the ggplot defaults.</li>
</ul>
<hr>
</div>
<div id="changes-in-lending-club-underwriting" class="section level2">
<h2 class="hasAnchor">
<a href="#changes-in-lending-club-underwriting" class="anchor"></a>Changes in lending club underwriting</h2>
<p><span class="citation">Wu (2015)</span></p>
<p>Data: June 2015 - May 2016</p>
<p>Notes:</p>
<ul>
<li>Response to LC’s quarterly earnings release, where LC announced changes in underwriting</li>
<li>Used commentary from LC’s 10-Q.</li>
</ul>
<p><strong>Analysis:</strong></p>
<ul>
<li>Scatter plot of average DTI for D grade loans by issue date. The plot attempts to show that less high DTI loans have been issued since LC changed its underwriting in late April 2016. The article hypothesizes that the loans are removed from the direct pay program. Direct pay requires the loan proceeds be paid directly to the borrower’s existing debts.</li>
<li>Scatter plot of number of inquiries by issue date for F and G grade loans. The plot shows that in the past month there have been less loans with a high number of previous inquiries.</li>
</ul>
<hr>
</div>
<div id="analysis-of-lending-clubs-data" class="section level2">
<h2 class="hasAnchor">
<a href="#analysis-of-lending-clubs-data" class="anchor"></a>Analysis of Lending Club’s data</h2>
<p><span class="citation">Darre (2015)</span></p>
<p>Data: through June 2015.</p>
<p>Author Notes:</p>
<ul>
<li>Strong educational background for data science: MSc in Statistics from Stanford University and MSc in Applied Math</li>
<li>
<a href="https://www.linkedin.com/in/jftdarre/">LinkedIn profile</a> shows work experience as a quant for UBS in structuring CDOs.</li>
</ul>
<p><strong>Data cleaning:</strong></p>
<ul>
<li>Removed loans where the :
<ul>
<li>policy code is not 1 meaning they are new products not yet publically available.</li>
<li>high FICO score was 0 meaning the data was not valid.</li>
<li>Revolving credit utilization data was missing</li>
<li>Low FICO score was less than 600. Per the new underwriting policy, borrowers with a score less than 600 aren’t allowed to receive a loan.</li>
</ul>
</li>
<li>New features engineered:
<ul>
<li>Year from the issue date</li>
<li>Buckets for the:
<ul>
<li>FICO scores</li>
<li>years, quarthers, and months of issue dates</li>
<li>number of inquries in the past 6 months</li>
<li>DTI</li>
<li>Revolving balance</li>
</ul>
</li>
</ul>
</li>
<li>Filtered to remove loans that have not matured.</li>
<li>Grouped statuses into 2 categories: debt and purchases. Credit card and debt consolidation were grouped into the debt category and all others to purchases.</li>
<li>Simplified the number of delinquencies tp binary: 2+ delinquiries in 2 years.</li>
<li>Simplified the number of public records to binary: threshold +1.</li>
</ul>
<p><strong>Analysis:</strong></p>
<ul>
<li>FICO score by loan grade showing that most subgrades have average FICO scores within a 10 point range. The initial conclusion is that FICO score doesn’t have a linear relationship with the loan grade. Expanded to show density around the average score by year which shows the densities started with a tight distribution around the mean and then widened with time. The ending conclusion is that LC initially relied heavily on the credit score in the loan grading model and then loosened their reliance on it.</li>
<li>Look at several variables for a relationship with defaults, loan grades, and fico scores:</li>
</ul>
<table class="table">
<colgroup>
<col width="25%">
<col width="75%">
</colgroup>
<thead><tr class="header">
<th align="left">Variable Name</th>
<th>Conclusion</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Home ownership</td>
<td>‘mortgage’ defualted at 11.5% and 2% less than other values. No analysis by loan grades</td>
</tr>
<tr class="even">
<td align="left">Purpose</td>
<td>‘education’ and ‘small business’ have higher charge off rates but education is a very small population. At the total population level, the FICO score does not reflect the higher risk</td>
</tr>
<tr class="odd">
<td align="left">Revolving balance &amp; employment length</td>
<td>no or minimal link to default. A bump in the charge-off ratio when the employment length is NA which is in contrast to the higher average credit score.</td>
</tr>
<tr class="even">
<td align="left">Number of delinquencies</td>
<td>Majority of borrowers do not have delinquencies leaving a small population which did. Delinquencies did have a lower average credit grade.</td>
</tr>
<tr class="odd">
<td align="left">Number of open accounts</td>
<td>No clear trend</td>
</tr>
<tr class="even">
<td align="left">Debt to Income</td>
<td>Author notes a relationship with dti and higher credit score but that does not hold true for scores below 700.</td>
</tr>
<tr class="odd">
<td align="left">Public Records</td>
<td>Small population but a 2% increase in charge-offs if already had a public record.</td>
</tr>
<tr class="even">
<td align="left">Age of credit history</td>
<td>Default rates decrease with credit history age. There was a 5% drop in defaults from borrowers with &lt;6 years to &gt;22 years. A secondary analysis could be performed to show the impact of borrower age on credit history age.</td>
</tr>
<tr class="odd">
<td align="left">Revolving utilization</td>
<td>Higher usage leads to higher default rates</td>
</tr>
<tr class="even">
<td align="left">Annual income</td>
<td>High income defaults less, but does not eliminate the risk. Likely a significant variable.</td>
</tr>
<tr class="odd">
<td align="left">Inquiries in 6 months</td>
<td>An indication of desperation to get credit. 7+ inquries are nearly 4x more likely to default than 0 inquiries.</td>
</tr>
<tr class="even">
<td align="left">Geography</td>
<td>Nevada and Florida are top 2 states for defaults.</td>
</tr>
</tbody>
</table>
<p>Model Review:</p>
<ul>
<li>A very comprehensive analysis with several appoaces that can be updated and reused. Use of violin charts to show the distribution of credit scores was very effective and can be used fot dti, income, and credit score anakysis. Plotly pie charts were less effective in transferring information because the default rates by category were embedded in the pop-ups instead of being directly visualized. Having just read Tufte’s work, I think the bubble charts were too large to convey so little information and may have been better suited in a table. The analysis was a little disjointed the way he moved between the complete dataset and the subset of matured loans. It may have been useful to do them sequentially or enable a left-right comparison.</li>
</ul>
<hr>
</div>
<div id="lending-club-loan-analysis-making-money-with-logistic-regression" class="section level2">
<h2 class="hasAnchor">
<a href="#lending-club-loan-analysis-making-money-with-logistic-regression" class="anchor"></a>Lending Club Loan Analysis: Making Money with Logistic Regression</h2>
<p><span class="citation">Davis (2012)</span></p>
<p>Data: through 2011</p>
<p><strong>Author Notes</strong>:</p>
<ul>
<li>
<a href="https://www.linkedin.com/in/drjasondavis/?locale=en_US">LinkedIn</a> shows at the time he was the director of Search and Data at Etsy</li>
<li>PhD in machine learning U of TX- Austin</li>
</ul>
<p>**<a href="Notes:**" class="uri">Notes:**</a></p>
<ul>
<li>Interesting discussion in the comments</li>
</ul>
<p><strong>Analysis:</strong></p>
<ul>
<li>Default rate by description character length. He did not define how he measured defaults i.e. did he remove loans that haven’t matured yet or were defaults included with the charge-offs.</li>
<li>Logistic regression using first 50% of loans and evaluated on 2nd 50%. The model outpout is the probability of default which is then used to weight the interest rate. 12 variables were used in the model with no commentary discussing how they were chosen.</li>
<li>Expanded to determine sensitivity of each of the variables by re runnning the model after holding out one of the variables. Noted that the amount requested had the biggest impact on investor return.</li>
</ul>
<p><strong>Review:</strong> - An interesting take on the model by flowing it through to a pricing model. So far in my review the authors have stopped at a classifier model. This is an important shift towards application.</p>
<hr>
</div>
</div>
<div id="remaining-models" class="section level1">
<h1 class="hasAnchor">
<a href="#remaining-models" class="anchor"></a>Remaining Models</h1>
<ul>
<li>
<span class="citation">Anon. (2015)</span><br>
</li>
<li>
<span class="citation">Davenport (2015)</span><br>
</li>
<li>
<span class="citation">Wu (2013)</span><br>
</li>
<li>
<span class="citation">Cashorali (2011)</span><br>
</li>
<li>
<span class="citation">Toth (2015)</span><br>
</li>
<li>
<span class="citation">Mistry (2016)</span><br>
</li>
<li>
<span class="citation">Polena (2016)</span><br>
</li>
<li>
<span class="citation">Anon.</span><br>
</li>
<li>
<span class="citation">Patierno (2011)</span><br>
</li>
<li><span class="citation">Tsai, Ramiah, and Singh (2014)</span></li>
<li>
<span class="citation">Summers (2016)</span> <a href="https://github.com/ivanmladek/svm-lendingclub" class="uri">https://github.com/ivanmladek/svm-lendingclub</a>
</li>
</ul>
</div>
<div id="references" class="section level1 unnumbered">
<h1 class="hasAnchor">
<a href="#references" class="anchor"></a>References</h1>
<div id="refs" class="references">
<div id="ref-socialLender">
<p>Anon., 2015, Lending club - predicting loan outcomes,. Blog <em>Peer Lending Server</em> (<a href="Analyzing%20Lending%20Club%20Payment%20History" class="uri">Analyzing Lending Club Payment History</a>).</p>
</div>
<div id="ref-mdlKaggle">
<p>Anon., Give me some credit,. Blog <em>Kaggle</em> (<a href="https://www.kaggle.com/c/GiveMeSomeCredit" class="uri">https://www.kaggle.com/c/GiveMeSomeCredit</a>).</p>
</div>
<div id="ref-mdlCashorali">
<p>Cashorali, Tanya, 2011, Mining lending club’s goldmine of loan data part i of ii visualizations by state,. Blog <em>R-bloggers</em> (<a href="https://www.r-bloggers.com/mining-lending-clubs-goldmine-of-loan-data-part-i-of-ii-visualizations-by-state/" class="uri">https://www.r-bloggers.com/mining-lending-clubs-goldmine-of-loan-data-part-i-of-ii-visualizations-by-state/</a>).</p>
</div>
<div id="ref-mdlDarre">
<p>Darre, Jean-Francois, 2015, Analysis of lending club’s data,. Blog <em>Data Science Central</em> (<a href="http://www.datasciencecentral.com/profiles/blogs/analysis-of-lending-club-s-data" class="uri">http://www.datasciencecentral.com/profiles/blogs/analysis-of-lending-club-s-data</a>).</p>
</div>
<div id="ref-mdlDavenport">
<p>Davenport, Kevin, 2015, Lending club data analysis revisited with python,. Blog <em>Machine Learning and Statistics Blog</em> (<a href="Lending%20Club%20Data%20Analysis%20Revisited%20with%20Python" class="uri">Lending Club Data Analysis Revisited with Python</a>).</p>
</div>
<div id="ref-mdlDavis">
<p>Davis, Jason, 2012, Lending club loan analysis: Making money with logistic regression,. Blog <em>Data Startups</em> (<a href="http://drjasondavis.com/blog/2012/04/08/lending-club-loan-analysis-making-money-with-logistic-regression" class="uri">http://drjasondavis.com/blog/2012/04/08/lending-club-loan-analysis-making-money-with-logistic-regression</a>).</p>
</div>
<div id="ref-mdlMistry">
<p>Mistry, Hitesh, 2016, Application of survival analysis to p2p lending club loans data,. Blog <em>Systems Forecasting</em> (<a href="http://systemsforecasting.com/2016/07/application-of-survival-analysis-to-p2p-lending-club-loans-data/" class="uri">http://systemsforecasting.com/2016/07/application-of-survival-analysis-to-p2p-lending-club-loans-data/</a>).</p>
</div>
<div id="ref-mdlOrourke">
<p>ORourke, Ted, 2016, Lending club - predicting loan outcomes,. Blog <em>Rpubs</em> (<a href="https://rpubs.com/torourke97/190551" class="uri">https://rpubs.com/torourke97/190551</a>).</p>
</div>
<div id="ref-mdlPatierno">
<p>Patierno, David, 2011, Using genetic algorithms to maximize lending club performance,. Blog (<a href="http://blog.dmpatierno.com/post/3161338411/lending-club-genetic-algorithm" class="uri">http://blog.dmpatierno.com/post/3161338411/lending-club-genetic-algorithm</a>).</p>
</div>
<div id="ref-mdlPolena">
<p>Polena, Michal, 2016, Investing at lending club with watson analytics,. Blog <em>IBM</em> (<a href="https://www.ibm.com/blogs/business-analytics/lending-club-and-watson-analytics-1/" class="uri">https://www.ibm.com/blogs/business-analytics/lending-club-and-watson-analytics-1/</a>).</p>
</div>
<div id="ref-mdlSummers">
<p>Summers, Cameron, 2016, Lending club deep learning, (<a href="https://scaubrey.github.io/" class="uri">https://scaubrey.github.io/</a>).</p>
</div>
<div id="ref-mdlToth">
<p>Toth, Michael, 2015, Analyzing historical default rates of lending club notes,. Blog <em>R-bloggers</em> (<a href="https://www.r-bloggers.com/analyzing-historical-default-rates-of-lending-club-notes/" class="uri">https://www.r-bloggers.com/analyzing-historical-default-rates-of-lending-club-notes/</a>).</p>
</div>
<div id="ref-mdlTsai">
<p>Tsai, Kevin, Sivagami Ramiah, and Sudhanshu Singh, 2014, Peer lending risk predictor, (<a href="http://cs229.stanford.edu/proj2014/Kevin%20Tsai,Sivagami%20Ramiah,Sudhanshu%20Singh,Peer%20Lending%20Risk%20Predictor.pdf">http://cs229.stanford.edu/proj2014/Kevin%20Tsai,Sivagami%20Ramiah,Sudhanshu%20Singh,Peer%20Lending%20Risk%20Predictor.pdf</a>).</p>
</div>
<div id="ref-mdlWu2">
<p>Wu, James, 2013, Gradient boosting: Analysis of lendingclub’s data,. Blog <em>R-bloggers</em> (<a href="https://www.r-bloggers.com/gradient-boosting-analysis-of-lendingclubs-data/" class="uri">https://www.r-bloggers.com/gradient-boosting-analysis-of-lendingclubs-data/</a>).</p>
</div>
<div id="ref-mdlWu1">
<p>Wu, James, 2015, Changes in lending club underwriting,. Blog <em>MonJa</em> (<a href="https://www.monjaco.com/blog/changes-in-lending-club-underwriting-looking-beneath-the-headlines//" class="uri">https://www.monjaco.com/blog/changes-in-lending-club-underwriting-looking-beneath-the-headlines//</a>).</p>
</div>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
        <div id="tocnav">
      <h2>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li>
<a href="#purpose">Purpose</a><ul class="nav nav-pills nav-stacked">
<li><a href="#lending-club---predicting-loan-outcomes">Lending club - predicting loan outcomes</a></li>
      <li><a href="#changes-in-lending-club-underwriting">Changes in lending club underwriting</a></li>
      <li><a href="#analysis-of-lending-clubs-data">Analysis of Lending Club’s data</a></li>
      <li><a href="#lending-club-loan-analysis-making-money-with-logistic-regression">Lending Club Loan Analysis: Making Money with Logistic Regression</a></li>
      </ul>
</li>
      <li><a href="#remaining-models">Remaining Models</a></li>
      <li><a href="#references">References</a></li>
      </ul>
</div>
      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by Ryan Kuhn.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
</div>

  </body>
</html>
